(function(l){["view"].some(function(E){return l.config.get("wgAction")===E})&&l.loader.impl(function(){return["ext.gadget.store.ViewSource@37545a24",function(E,$,R,j){(function(p,w,n){"use strict";if(p.loadSource)return;var a=w.config.get(["wgAction","wgArticleId","wgArticlePath","wgContentLanguage","wgCurRevisionId","wgFormattedNamespaces","wgNamespaceIds","wgPageContentModel","wgPageName","wgUserLanguage","wgVersion","skin"]),b,h,u,S=3,c,d,g,m,W,_=[];if(a.wgPageContentModel!=="wikitext"||a.wgAction!=="view"||a.wgArticleId===0)return;function f(){--S===0&&H()}function H(){d=n("#mw-content-text"),d.length&&(F(a.skin),w.util.getParamValue("view")==="source"&&p.loadSource())}function F(e){if(!n("#ca-view-source").length){var i=P(e);if(i.length===0){console.error("view-source: skin "+e+" is unsupported");return}w.util.addPortletLink(i.attr("id"),"","View Source","ca-view-source"),m=n("#ca-view-source > a, #ca-view-source > span").first(),m.text(c.msg("viewSource").plain()).attr("href",null).attr("title",c.msg("tooltip").plain()).data("source",!1).on("click",function(t){p[m.data("source")?"hideSource":"loadSource"](),t.preventDefault()})}}function P(e){var i=null;switch(e){case"minerva":i=n("#p-tb");break;case"cosmos":i=n("#cosmos-actionsList-list");break;default:i=n("#p-cactions"),i.length===0&&(i=n("#ca-purge, #ca-watch, #ca-delete, #ca-move").parents(".mw-portlet").last())}return i}function v(e){for(var i=0;i<e.length;i++)e[i]=encodeURIComponent(e[i]);return e.join(":").replace(/ /g,"_")}function x(e){var i,t="";return e.indexOf("#")!==-1&&(i=e.split(/\#/),e=i.shift(),e.length||(e=a.wgPageName),t="#"+i.pop()),e[0]==="/"&&(e=a.wgPageName+e),i=e.split(/\:/),i.length>1&&u[i[0].toLowerCase()]?u[i.shift().toLowerCase()].replace(/\$1/,v(i)+t):a.wgArticlePath.replace("$1",v(i)+t)}function M(e,i,t){return h[t]?i+'<a href="'+w.html.escape(h[t])+'">'+t+"</a>":/\//g.test(e)?"&lt;/"+t:"&lt;"+t}function T(e){return _.push(e),'<a name="h'+(_.length-1)+'"></a>'+e}function I(e,i,t){return t=t||"",'[[<a href="'+w.html.escape(x(i))+'">'+i+"</a>"+t+"]]"}function C(e,i,t){var s,o=t.match(/^(\#?)(\w+)(\:.*)/),r=o&&b[o[1]+o[2]];if(r)return i+o[1]+'<a href="https://www.mediawiki.org/wiki/'+r+'">'+o[2]+"</a>"+o[3];if(t=t.replace(/&lt;\!\-\-[\s\S]*\-\-&gt;/,""),o=t.match(/^(\s*)(.+)(\s*)$/),o===null)return e;if(o[2][0]===":")s=o[2].substring(1);else if(o[2].indexOf("w:")===0)s="w:"+(o[2][2]===":"?o[2].substring(3):"Template:"+o[2].substring(2)),console.log(s);else if(o[2][0]==="/")s=w.config.values.wgPageName+o[2];else{var k=a.wgFormattedNamespaces[10]+":";if(o[2].indexOf(":")!==-1){var q=o[2].split(":")[0];a.wgNamespaceIds[q.toLowerCase()]!==void 0?s=o[2]:s=k+o[2]}else s=k+o[2]}return i+o[1]+'<a href="'+w.html.escape(x(s))+'">'+o[2]+"</a>"+o[3]}function D(e,i,t){return t=t||"",'[<a href="'+w.html.escape(i)+'">'+i+"</a>"+t+"]"}function z(e,i,t,s){var o=a.wgFormattedNamespaces[828]+":"+t.trim();return i+'<a href="'+w.html.escape(x(o))+'">'+t.trim()+"</a>"+s}p.loadSource=function(){m.text(c.msg("viewArticle").plain()).data("source",!0),g?(g.show(),d.hide()):n.get(w.util.getUrl(a.wgPageName,{action:"raw",maxage:"0",smaxage:"0",oldid:w.util.getParamValue("diff")||w.util.getParamValue("oldid")||a.wgCurRevisionId})).done(function(e){g=n('<pre id="source-code">'+e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/({{#invoke:)([\s\S]*?)(\||})/igm,z).replace(/(&lt;\/?)([\w\:\-]+)/g,M).replace(/^((=+)[^\[\]\{\}]+?\2)/gm,T).replace(/\[{2}([^\[\]\{\}\|]+)(\|[^\]]+)?\]{2}/g,I).replace(/\[(https?:\/\/[^ \]]+)([^\]]*)\]/g,D).replace(/((?:^|[^\{])\{\{)([^\{\|\}]+)/g,C).replace(/\r\n|\r|\n/g,"<br />")+"</pre>").insertBefore(d.css("display","none"))})},p.hideSource=function(){g&&(m.text(c.msg("viewSource").plain()).data("source",!1),g.hide(),d.show())};function A(e){var i=w.Message;i.prototype.constructor=w.Message.prototype.constructor;var t={_i18nLoader:e,msg:function(){var s=Array.prototype.slice.call(arguments);if(s.length!==0){var o=s.shift();return new i(this._i18nLoader.getMessages(),o,s)}}};return["setTempLang","setDefaultLang"].forEach(function(s){t[s]=t._i18nLoader[s].bind(t._i18nLoader)}),["useLang","usePageLang","useContentLang","usePageViewLang","useUserLang","inLang","inPageLang","inContentLang","inPageViewLang","inUserLang"].forEach(function(s){t[s]=t._i18nLoader[s].bind(t)}),t}function N(){var e=new n.Deferred,i=new n.Deferred;function t(){var r=n.Deferred();return w.loader.using("ext.gadget.store.FandoomUtilsI18nLoader").done(function(k){r.resolve(k("ext.gadget.store.FandoomUtilsI18nLoader"))}).fail(r.reject),r}function s(r){return r.loadMessages("ViewSource",{})}function o(r){e.resolve(r)}return i.then(t).then(s).then(o).catch(function(r){console.error(r),e.resolve(U())}),w.loader.getState("ext.gadget.store.FandoomUtilsI18nLoader")?i.resolve():n.ajax({dataType:"script",cache:!0,url:"https://cdn.jsdelivr.net/gh/ccxtwf/MirahezeDevScripts@1bb78aaab64521129863a64533a7a15f4a77738d/dist/FandoomUtilsI18nLoader/gadget-impl.js"}).done(function(){i.resolve()}).fail(i.reject),e}function U(){console.warn("[FandoomUtilsI18nLoader] Failed to load messages. Using fallback messages instead.");var e=new w.Map;e.set({viewSource:"View source",viewArticle:"View article",tooltip:"Toggle the visibility of the wiki source code of the current page"}),w.Message.prototype.escape===void 0&&(w.Message.prototype.escape=w.Message.prototype.escaped);var i={getMessages:function(){return e}};return["setDefaultLang","setTempLang","useLang","usePageLang","useContentLang","usePageViewLang","useUserLang"].forEach(function(t){i[t]=n.noop}),["inLang","inPageLang","inContentLang","inPageViewLang","inUserLang"].forEach(function(t){i[t]=function(){return this}}),i}w.hook("userjs.view-source.definitions").add(function(e){b=e.parserFunctions,h=e.parserTags,u=e.interwikiMap,f()}),n.when(N(),w.loader.using("mediawiki.util")).then(function(e){c=A(e),f()}),w.hook("wikipage.content").add(f)})((window.dev=window.dev||{}).viewSource=window.dev.viewSource||{},mediaWiki,$);var y={"#expr":"Help:Extension:ParserFunctions#.23expr","#if":"Help:Extension:ParserFunctions#.23if","#ifeq":"Help:Extension:ParserFunctions#.23ifeq","#iferror":"Help:Extension:ParserFunctions#.23iferror","#ifexpr":"Help:Extension:ParserFunctions#.23ifexpr","#ifexist":"Help:Extension:ParserFunctions#.23ifexist","#rel2abs":"Help:Extension:ParserFunctions#.23rel2abs","#switch":"Help:Extension:ParserFunctions#.23switch","#time":"Help:Extension:ParserFunctions#.23time","#timel":"Help:Extension:ParserFunctions#.23timel","#titleparts":"Help:Extension:ParserFunctions#.23titleparts",subst:"Help:Substitution",safesubst:"Help:Substitution","#len":"Extension:StringFunctions#.23len:","#pos":"Extension:StringFunctions#.23pos:","#rpos":"Extension:StringFunctions#.23rpos:","#sub":"Extension:StringFunctions#.23sub:","#pad":"Extension:StringFunctions#.23pad:","#replace":"Extension:StringFunctions#.23replace:","#explode":"Extension:StringFunctions#.23explode:","#urlencode":"Extension:StringFunctions#.23urlencode:_and_.23urldecode:","#urldecode":"Extension:StringFunctions#.23urlencode:_and_.23urldecode:","#invoke":"Extension:Scribunto#Usage","#lst":"Extension:Labeled_Section_Transclusion#How_it_works","#lsth":"Extension:Labeled_Section_Transclusion#How_it_works","#lstx":"Extension:Labeled_Section_Transclusion#How_it_works","#var":"Extension:Variables#.23var","#var_final":"Extension:Variables#.23var_final","#vardefine":"Extension:Variables#.23vardefine","#vardefineecho":"Extension:Variables#.23vardefineecho","#varexists":"Extension:Variables#.varexists","#dpl":"Extension:DynamicPageList_(third-party)","#ev":"Extension:EmbedVideo_(fork)","#evl":"Extension:EmbedVideo_(fork)","#evt":"Extension:EmbedVideo_(fork)","#evu":"Extension:EmbedVideo_(fork)","#dateformat":"Help:Magic_words#Formatting","#formatdate":"Help:Magic_words#Formatting",lc:"Help:Magic_words#Formatting",lcfirst:"Help:Magic_words#Formatting",uc:"Help:Magic_words#Formatting",ucfirst:"Help:Magic_words#Formatting","#language":"Help:Magic_words#Miscellaneous","#special":"Help:Magic_words#Miscellaneous","#tag":"Help:Magic_words#Miscellaneous",ns:"Help:Magic_words#Namespaces",PAGESINCAT:"Help:Magic_words#Statistics",PAGESINCATEGORY:"Help:Magic_words#Statistics",DEFAULTSORT:"Help:Magic_words#Technical_metadata",DISPLAYTITLE:"Help:Magic_words#Technical_metadata",int:"Help:Magic_words#Transclusion_modifiers"},V={aoaudio:"https://www.mediawiki.org/wiki/Extension:YouTube",aovideo:"https://www.mediawiki.org/wiki/Extension:YouTube",archiveorg:"https://www.mediawiki.org/wiki/Extension:EmbedVideo_(fork)",bandcamp:"https://www.mediawiki.org/wiki/Extension:EmbedVideo_(fork)",bilibili:"https://www.mediawiki.org/wiki/Extension:EmbedVideo_(fork)",categorytree:"https://www.mediawiki.org/wiki/Extension:CategoryTree",ccc:"https://www.mediawiki.org/wiki/Extension:EmbedVideo_(fork)",ce:"https://www.mediawiki.org/wiki/Math",charinsert:"https://www.mediawiki.org/wiki/Extension:CharInsert",chem:"https://www.mediawiki.org/wiki/Math",choose:"https://www.mediawiki.org/wiki/Extension:RandomSelection",comments:"https://www.mediawiki.org/wiki/Extension:Comments",dailymotion:"https://www.mediawiki.org/wiki/Extension:EmbedVideo_(fork)",dpl:"https://www.mediawiki.org/wiki/Extension:DynamicPageList3",dynamicpagelist:"https://www.mediawiki.org/wiki/Extension:DynamicPageList3",embedvideo:"https://www.mediawiki.org/wiki/Extension:EmbedVideo_(fork)",evlplayer:"https://www.mediawiki.org/wiki/Extension:EmbedVideo_(fork)",externalvideo:"https://www.mediawiki.org/wiki/Extension:EmbedVideo_(fork)",gallery:"https://www.mediawiki.org/wiki/Help:Images#Rendering_a_gallery_of_images",gforms:"https://www.mediawiki.org/wiki/Extension:GoogleForms",googleforms:"https://www.mediawiki.org/wiki/Extension:GoogleForms",hiero:"https://www.mediawiki.org/wiki/Extension:WikiHiero",imagemap:"https://www.mediawiki.org/wiki/Extension:ImageMap",includeonly:"https://www.mediawiki.org/wiki/Help:Templates#Control_template_inclusion",infobox:"https://github.com/Universal-Omega/PortableInfobox",inputbox:"https://www.mediawiki.org/wiki/Extension:InputBox",kakaotv:"https://www.mediawiki.org/wiki/Extension:EmbedVideo_(fork)",loom:"https://www.mediawiki.org/wiki/Extension:EmbedVideo_(fork)","mainpage-endcolumn":"https://community.fandom.com/wiki/Help:Main_page_column_tags","mainpage-leftcolumn-start":"https://community.fandom.com/wiki/Help:Main_page_column_tags","mainpage-rightcolumn-start":"https://community.fandom.com/wiki/Help:Main_page_column_tags",math:"https://www.mediawiki.org/wiki/Math",metacafe:"https://www.mediawiki.org/wiki/Extension:EmbedVideo_(fork)",mobileonly:"https://www.mediawiki.org/wiki/Extension:MobileDetect",navertv:"https://www.mediawiki.org/wiki/Extension:EmbedVideo_(fork)",niconico:"https://www.mediawiki.org/wiki/Extension:EmbedVideo_(fork)",nicovideo:"https://www.mediawiki.org/wiki/Extension:YouTube",nomobile:"https://www.mediawiki.org/wiki/Extension:MobileDetect",noinclude:"https://www.mediawiki.org/wiki/Help:Templates#Control_template_inclusion",nowiki:"https://meta.wikimedia.org/wiki/Help:Wikitext_examples#Just_show_what_I_typed",onlyinclude:"https://www.mediawiki.org/wiki/Help:Templates#Control_template_inclusion",poem:"https://www.mediawiki.org/wiki/Extension:Poem",pollembed:"https://www.mediawiki.org/wiki/Extension:PollNY",pre:"https://meta.wikimedia.org/wiki/Help:Wikitext_examples#Just_show_what_I_typed",randomimage:"https://www.mediawiki.org/wiki/Extension:RandomImage",ref:"https://www.mediawiki.org/wiki/Extension:Cite",references:"https://www.mediawiki.org/wiki/Extension:Cite",rss:"https://www.mediawiki.org/wiki/Extension:RSS",section:"https://www.mediawiki.org/wiki/Extension:Labeled_Section_Transclusion",seo:"https://www.mediawiki.org/wiki/Extension:WikiSEO",sharepoint:"https://www.mediawiki.org/wiki/Extension:EmbedVideo_(fork)",soundcloud:"https://www.mediawiki.org/wiki/Extension:EmbedVideo_(fork)",source:"https://www.mediawiki.org/wiki/Extension:SyntaxHighlight",spoiler:"https://www.mediawiki.org/wiki/Extension:Spoilers",spotifyalbum:"https://www.mediawiki.org/wiki/Extension:EmbedVideo_(fork)",spotifyartist:"https://www.mediawiki.org/wiki/Extension:EmbedVideo_(fork)",spotifyepisode:"https://www.mediawiki.org/wiki/Extension:EmbedVideo_(fork)",spotifyshow:"https://www.mediawiki.org/wiki/Extension:EmbedVideo_(fork)",spotifytrack:"https://www.mediawiki.org/wiki/Extension:EmbedVideo_(fork)",substack:"https://www.mediawiki.org/wiki/Extension:EmbedVideo_(fork)",syntaxhighlight:"https://www.mediawiki.org/wiki/Extension:SyntaxHighlight",tabber:"https://www.mediawiki.org/wiki/Extension:TabberNeue",tabbertransclude:"https://www.mediawiki.org/wiki/Extension:TabberNeue",templatedata:"https://www.mediawiki.org/wiki/Extension:TemplateData",templatestyles:"https://www.mediawiki.org/wiki/Extension:TemplateStyles",timeline:"https://www.mediawiki.org/wiki/Extension:Timeline",twitch:"https://www.mediawiki.org/wiki/Extension:EmbedVideo_(fork)",twitchclip:"https://www.mediawiki.org/wiki/Extension:EmbedVideo_(fork)",twitchvod:"https://www.mediawiki.org/wiki/Extension:EmbedVideo_(fork)",videolink:"https://www.mediawiki.org/wiki/Extension:EmbedVideo_(fork)",vimeo:"https://www.mediawiki.org/wiki/Extension:EmbedVideo_(fork)",vk:"https://www.mediawiki.org/wiki/Extension:EmbedVideo_(fork)",vote:"https://www.mediawiki.org/wiki/Extension:VoteNY",vplayer:"https://www.mediawiki.org/wiki/Extension:EmbedVideo_(fork)",wistia:"https://www.mediawiki.org/wiki/Extension:EmbedVideo_(fork)",youku:"https://www.mediawiki.org/wiki/Extension:EmbedVideo_(fork)",youtube:"https://www.mediawiki.org/wiki/Extension:YouTube",youtubeoembed:"https://www.mediawiki.org/wiki/Extension:EmbedVideo_(fork)",youtubeplaylist:"https://www.mediawiki.org/wiki/Extension:EmbedVideo_(fork)",youtubevideolist:"https://www.mediawiki.org/wiki/Extension:EmbedVideo_(fork)"},L={acronym:"https://www.acronymfinder.com/~/search/af.aspx?string=exact&Acronym=$1",arxiv:"https://www.arxiv.org/abs/$1",att:"https://allthetropes.org/wiki/$1",c:"https://commons.wikimedia.org/wiki/$1",c2find:"https://c2.com/cgi/wiki?FindPage&value=$1",cache:"https://www.google.com/search?q=cache:$1",commons:"https://commons.miraheze.org/wiki/$1",cvt:"https://cvt.miraheze.org/wiki/$1",d:"https://www.wikidata.org/wiki/$1",dev:"https://dev.miraheze.org/wiki/$1",dictionary:"https://www.dict.org/bin/Dict?Database=*&Form=Dict1&Strategy=*&Query=$1",doi:"https://dx.doi.org/$1",drumcorpswiki:"https://www.drumcorpswiki.com/$1",emacswiki:"https://www.emacswiki.org/cgi-bin/wiki.pl?$1",fandom:"https://community.fandom.com/wiki/w:c:$1",foldoc:"https://foldoc.org/?$1",freebsdman:"https://www.FreeBSD.org/cgi/man.cgi?apropos=1&query=$1",github:"https://www.github.com/$1",google:"https://www.google.com/search?q=$1",googlegroups:"https://groups.google.com/groups?q=$1",hammondwiki:"https://www.dairiki.org/HammondWiki/$1",hrwiki:"https://www.hrwiki.org/wiki/$1",imdb:"https://www.imdb.com/find?q=$1&tt=on",libera:"https://web.libera.chat/?channel=$1",linuxwiki:"https://linuxwiki.de/$1",litse:"https://literature.stackexchange.com/questions/$1",loginwiki:"https://login.miraheze.org/wiki/$1",lqwiki:"https://wiki.linuxquestions.org/wiki/$1",lugkr:"https://www.lug-kr.de/wiki/$1",m:"https://meta.miraheze.org/wiki/$1",meatball:"https://meatballwiki.org/wiki/$1",mediawikiwiki:"https://www.mediawiki.org/wiki/$1",mediazilla:"https://phabricator.wikimedia.org/$1",meta:"https://meta.miraheze.org/wiki/$1",metawiki:"https://meta.miraheze.org/wiki/$1",metawikimedia:"https://meta.wikimedia.org/wiki/$1",mh:"https://meta.miraheze.org/wiki/$1",mozillawiki:"https://wiki.mozilla.org/$1",mw:"https://www.mediawiki.org/wiki/$1",namu:"https://namu.wiki/w/$1",oeis:"https://oeis.org/$1",oldwikisource:"https://wikisource.org/wiki/$1",phab:"https://issue-tracker.miraheze.org/$1",phabricator:"https://issue-tracker.miraheze.org/$1",phorge:"https://issue-tracker.miraheze.org/$1",pmid:"https://www.ncbi.nlm.nih.gov/pubmed/$1?dopt=Abstract",ppr:"https://c2.com/cgi/wiki?$1",pythoninfo:"https://wiki.python.org/moin/$1",reports:"https://reports.miraheze.org/$1",rfc:"https://tools.ietf.org/html/rfc$1",s23wiki:"https://s23.org/wiki/$1",senseislibrary:"https://senseis.xmp.net/?$1",shoutwiki:"https://www.shoutwiki.com/wiki/$1",sourceforge:"https://sourceforge.net/$1",sourcewatch:"https://www.sourcewatch.org/index.php?title=$1",squeak:"https://wiki.squeak.org/squeak/$1",templatewiki:"https://dev.miraheze.org/wiki/$1",testwiki:"https://publictestwiki.com/wiki/$1",tfipcheck:"https://ipcheck.toolforge.org/index.php?ip=$1",theopedia:"https://www.theopedia.com/$1",tmbw:"https://www.tmbw.net/wiki/$1",translatewiki:"https://translatewiki.net/wiki/$1",twiki:"https://twiki.org/cgi-bin/view/$1",uncyclopedia:"https://en.uncyclopedia.co/wiki/$1",unreal:"https://wiki.beyondunreal.com/$1",usemod:"https://www.usemod.com/cgi-bin/wiki.pl?$1",w:"https://en.wikipedia.org/wiki/$1",wf:"https://meta.wikiforge.net/wiki/$1",wiki:"https://wiki.c2.com/?$1",wikia:"https://community.fandom.com/wiki/w:c:$1",wikiapiary:"https://wikiapiary.com/wiki/$1",wikibooks:"https://en.wikibooks.org/wiki/$1",wikif1:"https://www.wikif1.org/$1",wikihow:"https://www.wikihow.com/$1",wikimedia:"https://foundation.wikimedia.org/wiki/$1",wikimediacommons:"https://commons.wikimedia.org/wiki/$1",wikimediaphab:"https://phabricator.wikimedia.org/$1",wikinews:"https://en.wikinews.org/wiki/$1",wikinfo:"https://www.wikinfo.org/wikinfo/index.php/$1",wikipedia:"https://en.wikipedia.org/wiki/$1",wikiquote:"https://en.wikiquote.org/wiki/$1",wikisource:"https://en.wikisource.org/wiki/$1",wikispecies:"https://species.wikimedia.org/wiki/$1",wikiversity:"https://en.wikiversity.org/wiki/$1",wikivoyage:"https://en.wikivoyage.org/wiki/$1",wikt:"https://en.wiktionary.org/wiki/$1",wiktionary:"https://en.wiktionary.org/wiki/$1",wmfphab:"https://phabricator.wikimedia.org/$1",wp:"https://en.wikipedia.org/wiki/Wikipedia:$1",wt:"https://meta.wikitide.org/wiki/$1"};l.hook("userjs.view-source.definitions").fire({parserFunctions:y,parserTags:V,interwikiMap:L})},{css:["#ca-view-source{cursor:pointer!important}#source-toc{padding:10px 0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;font-size:14px}#source-toc li{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}#source-code{white-space:pre-wrap}#source-code a{text-decoration:underline;color:inherit}.ooui-theme-fandom #source-code{padding:12px;font-size:14px;line-height:16px}"]},{},{},null]})})(mediaWiki);
